<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.35.1">
<meta name="crystal_docs.project_version" content="HEAD">
<meta name="crystal_docs.project_name" content="hailo">



<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

  <meta name="repository-name" content="hailo">
  <title>hailo HEAD</title>
  <script type="text/javascript">
  CrystalDocs.base_path = "";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="index.html">
          hailo
        </a>
      </h1>

      <span class="project-version">
        HEAD
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent " data-id="hailo/Hailo" data-name="hailo">
      <a href="Hailo.html">Hailo</a>
      
        <ul>
  
  <li class=" " data-id="hailo/Hailo/CLI" data-name="hailo::cli">
      <a href="Hailo/CLI.html">CLI</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Expression" data-name="hailo::expression">
      <a href="Hailo/Expression.html">Expression</a>
      
    </li>
  
  <li class="parent " data-id="hailo/Hailo/Learn" data-name="hailo::learn">
      <a href="Hailo/Learn.html">Learn</a>
      
        <ul>
  
  <li class=" " data-id="hailo/Hailo/Learn/Cache" data-name="hailo::learn::cache">
      <a href="Hailo/Learn/Cache.html">Cache</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="hailo/Hailo/LinkCounts" data-name="hailo::linkcounts">
      <a href="Hailo/LinkCounts.html">LinkCounts</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Lists" data-name="hailo::lists">
      <a href="Hailo/Lists.html">Lists</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Markov" data-name="hailo::markov">
      <a href="Hailo/Markov.html">Markov</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Parse" data-name="hailo::parse">
      <a href="Hailo/Parse.html">Parse</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Progress" data-name="hailo::progress">
      <a href="Hailo/Progress.html">Progress</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Reply" data-name="hailo::reply">
      <a href="Hailo/Reply.html">Reply</a>
      
    </li>
  
  <li class="parent " data-id="hailo/Hailo/Server" data-name="hailo::server">
      <a href="Hailo/Server.html">Server</a>
      
        <ul>
  
  <li class=" " data-id="hailo/Hailo/Server/LearnAndReplyRequest" data-name="hailo::server::learnandreplyrequest">
      <a href="Hailo/Server/LearnAndReplyRequest.html">LearnAndReplyRequest</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Server/LearnRequest" data-name="hailo::server::learnrequest">
      <a href="Hailo/Server/LearnRequest.html">LearnRequest</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Server/ReplyRequest" data-name="hailo::server::replyrequest">
      <a href="Hailo/Server/ReplyRequest.html">ReplyRequest</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Server/Response" data-name="hailo::server::response">
      <a href="Hailo/Server/Response.html">Response</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Store" data-name="hailo::store">
      <a href="Hailo/Store.html">Store</a>
      
    </li>
  
  <li class="parent " data-id="hailo/Hailo/Token" data-name="hailo::token">
      <a href="Hailo/Token.html">Token</a>
      
        <ul>
  
  <li class=" " data-id="hailo/Hailo/Token/Probability" data-name="hailo::token::probability">
      <a href="Hailo/Token/Probability.html">Probability</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Token/Spacing" data-name="hailo::token::spacing">
      <a href="Hailo/Token/Spacing.html">Spacing</a>
      
    </li>
  
  <li class=" " data-id="hailo/Hailo/Token/State" data-name="hailo::token::state">
      <a href="Hailo/Token/State.html">State</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="hailo/Hailo/TokenId" data-name="hailo::tokenid">
      <a href="Hailo/TokenId.html">TokenId</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1><a id="hailo.cr" class="anchor" href="#hailo.cr">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>ðŸ”´ hailo.cr</h1>

<p><a href="https://github.com/hailo/hailo.cr/blob/master/COPYING"><img src="https://img.shields.io/badge/license-GPL_3-green.svg" alt="License GPL 3"/></a>
<a href="https://travis-ci.org/hailo/hailo.cr"><img src="https://travis-ci.org/hailo/hailo.cr.svg?branch=master" alt="Travis CI"/></a></p>

<p>Hailo is a Markov chatterbot inspired by <a href="https://en.wikipedia.org/wiki/MegaHAL">MegaHAL</a>.</p>

<p>It is actually a port of the eponymous <a href="https://github.com/hailo/hailo">Hailo Perl module</a>.</p>

<p>The difference being that this one's written in <a href="https://crystal-lang.org/">Crystal</a>,
consists of less code, runs faster, and uses less memory. It also
drops support for multiple storage engines, sticking with SQLite only.</p>

<h2><a id="differences-from-classic-mega-hal" class="anchor" href="#differences-from-classic-mega-hal">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Differences from classic MegaHAL</h2>

<ul><li>Uses a space-efficient SQLite database to store the brain (saving 90%
  of the space)</li><li>Quite fast at training against a large corpus</li><li>Includes a server daemon</li><li>Won't choke when the number of unique tokens passes the 64k mark ;)</li><li>Sophisticated parser and formatter</li><ul><li>Meaningfully tokenizes almost anything you'd encounter in a chatroom</li></ul>

<pre><code class="language-crystal">(<span class="t">Unicode</span>, <span class="t">URLs</span>, dates <span class="o">&amp;</span> times, quotes, abbreviations etc)</code></pre>

<ul><li>Intelligent handling of punctuation as prefix/postfix/infix tokens</li><li>Special consideration of fully-capitalized and partially-capitalized</li></ul>

<pre><code class="language-crystal">tokens rather than normalizing <span class="k">case</span> and treating them identically</code></pre>

<ul><li>Outputs clean, properly capitalized sentences</li></ul></ul>

<h2><a id="installation" class="anchor" href="#installation">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Installation</h2>

<p>First, install <a href="https://crystal-lang.org">Crystal</a> along with
<code>libsqlite3-dev</code> and <code>libreadline-dev</code>. Then do:</p>

<pre><code class="language-sh">git clone https://github.com/hailo/hailo.cr.git
cd hailo.cr
shards install
crystal build bin/hailo-cr.cr --release</code></pre>

<p>This gives you a <code>hailo-cr</code> binary that you can run.</p>

<h2><a id="usage" class="anchor" href="#usage">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Usage</h2>

<p>Use the command line interface (<code>hailo-cr</code>), or use Hailo in your code:</p>

<pre><code class="language-crystal"><span class="k">require</span> <span class="s">&quot;hailo&quot;</span>

hailo <span class="o">=</span> <span class="t">Hailo</span>.<span class="k">new</span>(<span class="s">&quot;test.sqlite&quot;</span>)
puts hailo.learn_and_reply(<span class="s">&quot;oh hi there&quot;</span>)</code></pre>

<p>See the <a href="https://hailo.github.io/hailo.cr/Hailo.html">API documentation</a>
for more information.</p>

<h2><a id="hacking" class="anchor" href="#hacking">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Hacking</h2>

<p>Running the tests is simple:</p>

<pre><code class="language-sh">crystal spec</code></pre>

<p>If you've saved a brain file with <code>hailo-cr --brain whatever.brain</code>, you can
easily inspect it since it's just a SQLite file:</p>

<pre><code class="language-sh">sqlite3 whatever.brain
sqlite> .schema
sqlite> select * from token limit 10;</code></pre>

<h2><a id="support" class="anchor" href="#support">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Support</h2>

<p>You can ask a question in the <a href="https://github.com/hailo/hailo.cr/issues">issue tracker</a>,
email me at hinrik.sig@gmail.com, or hit me up on FreeNode (#hailo).</p>

<h2><a id="contribute" class="anchor" href="#contribute">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Contribute</h2>

<p>Pull requests are welcome.</p>

<h2><a id="license" class="anchor" href="#license">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>License</h2>

<p>hailo.cr is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License as published by the
Free Software Foundation, either version 3 of the License, or (at your
option) any later version.</p>

<p>hailo.cr is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
Public License for more details.</p>

<p>See <a href="https://github.com/hailo/hailo.cr/blob/master/COPYING"><code>COPYING</code></a>
for the complete license.</p>
</div>
</body>
</html>
